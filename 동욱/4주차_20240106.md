
---

### CPU의 원리


- CPU란? 
	CPU는 컴퓨터의 두뇌이다.
	CPU는 메모리에 저장된 명령어를 읽어 들이고, 
	읽어 들인 명령어를 해석하고, 실행하는 부품이다.


- CPU의 내부 구성 요소
	 1. 산술 논리 장치 (Arithmetic Logic Unit / ALU)
		CPU 내의 계산을 담당하는 장치이다.
		컴퓨터 내부에서 수행되는 대부분의 계산은 ALU가 도맡아 수행한다.
		크게 두가지의 계산을 담당 한다.
		- 덧셈, 뺄셈 같은 산술 계산
		- AND, OR 같은 논리 계산
		  
	2. 제어 장치 (Control Unit / CU)
		제어 장치는 제어 신호라는 전기 신호를 내보내고 명령어를 해석하는 장치이다.
		- CPU가 메모리에 저장된 값을 읽고 싶을 땐 메모리를 향해 메모리 읽기라는 제어 신호를 보낸다. 
		- CPU가 메모리에 어떤 값을 저장하고 싶을 땐 메모리를 향해 메모리 쓰기라는 제어 신호를 보낸다.
		
	3. 레지스터 (Register)
		CPU 내부의 작은 임시 저장 장치이다.
		프로그램을 실행하는 데 필요한 값들을 임시로 저장한다.
		CPU 안에는 여러 개의 레지스터가 존재하고 각기 다른 이름과 역할을 가지고 있다.


- 산술 논리 장치 (Arithmetic Logic Unit / ALU)
	계산하는 장치인 ALU는 계산을 하기 위해 피연산자와 수행할 연산이 필요하다
	
	- 플래그 
		연산 결과에 대한 추가적인 상태 정보를 담는다.
		(ex : 연산결과가 음수인지, 0인지, 오버 플로우가 발생했는지 등)
		플러그는 CPU가 프로그램을 실행하는 도중 반드시 기억해야 하는 일종의 참고 정보이다.
		이 플래그는 플래그 레지스터에 저장되고, CPU는 이 레지스터를 읽어 연산 결과에 대한
		추가적인 정보를 얻을 수 있다.


- 제어 장치 (Control Unit / CU)
  
	- 제어 장치의 입력 정보
	1. Clock 신호를 받아들인다.
		컴퓨터의 모든 부품을 일사 불란하게 움직일 수 있게 하는 시간 단위
		클럭의 주기에 맞춰 한 레지스터에서 다른 레지스터로 데이터가 이동되거나, 
		ALU에서 연산이 수행되거나, CPU가 메모리에 저장된 명령어를 읽어 들인다.
	2. 해석해야 할 명령어를 받아들인다.
		CPU가 해석해야 할 명령어는 명령어 레지스터라는 특별한 레지스터에 저장된다.
		제어 장치는 이 명령어 레지스터로부터 해석할 명령어를 받아들이고 해석한 뒤, 
		제어 신호를 발생시켜 컴퓨터 부품들에 수행해야 할 내용을 알려준다.
	3. 플래그 레지스터 속 플래그 값을 받아들인다.
		제어 장치는 플래그 값을 받아들이고 이를 참고하여 제어 신호를 발생시킨다.
	4. 시스템 버스, 그중에서 제어 버스로 전달된 제어 신호를 받아들인다.
		제어 버스를 통해 외부로부터 전달된 제어 신호를 받아들인다.
		
	- 제어 장치의 출력 정보
	1.  CPU의 내부와 외부로 제어 신호를 내보낸다.
		- 메모리에 저장된 값을 읽거나 쓰기
		- I/O의 값을 읽거나 새로운 값을 쓰고 싶을 때
		- ALU에 전달하는 제어 신호
		- 레지스터에 전달하는 제어 신호


- 레지스터 (Register)
	1. 프로그램 카운터
		메모리에서 가져올 명령어의 주소, 즉 메모리에서 읽어 들일 명령어 주소를 저장한다.
	2. 명령어 레지스터 
		헤석할 명령어, 즉 방금 메모리에사 읽어 들인 명령어를 저장하는 레지스터이다.
		제어 장치는 명령어 레지스터 속 명령어를 받아들이고 이를 해석한 뒤 제어 신호를 보냄
	3. 메모리 주소 레지스터
		메모리의 주소를 저장하는 레지스터이다.
		CPU가 읽어 들이고자하는 주소 값을 버스로 보낼 때 메모리 주소 레지스터를 거친다.
	4. 메모리 버퍼 레지스터
		메모리와 주고받을 값(데이터와 명령어)를 저장하는 레지스터이다. 
		즉, 메모리에 쓰고싶은 값이나 메모리로부터 전달받은 값은 메모리 버퍼 레지스터를 거친다. CPU가 주소 버스로 내보낼 값이 메모리 주소 레지스터를 거친다면, 데이터 버스로 
		주고받을 값은 메모리 버퍼 레지스터를 거친다.
	5. 범용 레지스터
		일반적으로 자유롭게 사용할 수 있는 레지스터이다. 
		데이터와 주소를 모두 저장할 수 있고 일반적으로 CPU안에는 여러 개의 범용 레지스터들이 있다. 
	6.  플래그 레지스터 
		ALU의 연살결과의 추가적인 상태 정보를 저장하는 레지스터이다. 