<h1>1주차(12월 10일)</h1>

<h2>운영체제 CS 면접</h2>

> 운영체제가 무엇인지 설명하시오

<b>운영체제(OS: Operating System)</b>란 컴퓨터 하드웨어를 관리하고, 응용 프로그램과 하드웨어 간의 인터페이스 역할을 하는 시스템 소프트웨어입니다. 주요 기능으로는 자원 관리, 작업 스케줄링, 메모리 관리, 파일 시스템 관리 등이 있습니다.

```
프로그램(소프트웨어)
=> 크게 운영체제 / 응용프로그램(= Application, App)으로 구분
=> 운영체제는 응용프로그램을 관리해 사용자가 사용하기 편하게 도와줌
```

<ul>운영체제의 기능
    <li> 프로세서, 기억장치, 입출력장치, 파일 및 정보 등의 자원을 관리</li>
    <li> 자원을 효율적으로 관리하기 위해 자원의 스케쥴링 기능을 제공</li>
    <li> 사용자와 시스템간의 편리한 인터페이스를 제공</li>
    <li> 시스템의 각종 하드웨어와 네트워크를 관리, 제어</li>
    <li> 데이터를 관리하고, 데이터 및 자원의 공유 기능을 제공</li>
    <li> 시스템의 오류를 검사하고 복구</li>
    <li> 자원 보호 기능을 제공</li>
    <li> 입출력에 대한 보조 기능을 제공</li>
    <li> 가상 계산기 능력을 제공</li>
</ul>

<ul>운영체제의 목적
    <li>처리능력 향상</li>
    <li>사용 가능도 향상</li>
    <li>신뢰도 향상</li>
    <li>반환 시간 단축</li>
</ul>

<ul>운영체제의 구성
    <li>제어 프로그램 : 컴퓨터 안의 정보들과 자원을 제어, 상태를 감시하고 실행하는 과정을 지시하고 관리</li>
    <li>처리 프로그램 : 실제로 데이터 처리를 실행하고 결과를 보여줌</li>
</ul>

<br>

> 프로세스와 스레드의 차이에 대해서 설명하시오

<b>프로세스(Process)</b>: 독립적으로 메모리 공간을 할당받아 실행 중인 프로그램의 인스턴스를 의미합니다. 각 프로세스는 자체 주소 공간, 파일, 레지스터 등을 가지며, 프로세스 간 통신을 위해 IPC(Inter-Process Communication)이 필요합니다.

<b>스레드(Thread)</b>: 경량화된 프로세스로, 하나의 프로세스 내에서 실행되는 여러 흐름 단위를 말합니다. 스레드는 프로세스의 자원을 공유하며, 스레드 간 데이터 공유가 비교적 쉽습니다. 하지만 동시성 제어에 주의해야 합니다.

멀티 스레드를 사용하면, 멀티 프로세스로 진행되는 작업보다 시스템콜이 줄어들기 때문에, 자원을 효율적으로 관리할 수 있고, 프로세스간의 통신비용보다 스레드간의 통신비용이 적다.

1. 프로세스란 무엇인가?

- 컴퓨터에서 실행되고 있는 프로그램을 의미하며, 운영 체제 프로세스와 사용자 프로세스로 나뉜다.
- 각 프로세스는 독립된 메모리 영역(Code, Data, Stack, Heap의 구조)를 할당받는다.
- 기본적으로 1개의 프로세스 당 최소 1개의 스레드를 갖는다.
- 각 프로세스는 별도의 주소 공간에서 실행되며, 한 프로세스는 다른 프로세스의 변수나 자료 구조에 접근할 수 없다.
- 한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(IPC)를 사용해야 한다.

2. 스레드란 무엇인가?

- 스레드는 CPU 사용의 기본 단위로, 프로세스 내에서 실행되는 여러 흐름의 단위를 말한다.
- 스레드는 스레드 ID, 프로그램 카운터, 레지스터 세트 및 스택으로 구성된다.
- OS는 자원을 효율적으로 사용하려고 한다. 스레드를 사용하면 프로세스보다 생성할 때 오버헤드도 적고 공유된 자원에 대해서도 오버헤드가 적다. 또한 병렬성도 높일 수 있다.
- 스레드는 프로세스 내에서 각각 stack만 따로 할당받고 code, data, heap 영역은 공유한다.
- 프로세스 내의 주소 공간이나 자원들(힙 공간 등)을 같은 프로세스 내에 스레드끼리 공유하면서 실행된다.
- 같은 프로세스 안에 있는 여러 스레드들은 같은 힙 공간을 공유한다.반면에 프로세스는 다른 프로세스의 메모리에 직접 접근할 수 없다.
- 각각의 스레드는 별도의 레시스터와 스택을 갖고 있지만, 힙 메모리는 서로 읽고 쓸 수 있다.
- 한 스레드가 프로세스 자원을 변경하면, 다른 이웃 스레드도 그 변경 결과를 즉시 볼 수 있다.

3. 스레드의 장점은 무엇인가?

- 스레드는 프로세스보다 생성 및 종료시간, 스레드간 전환시간이 짧다.
- 스레드는 프로세스의 메모리, 자원 등을 공유하므로 커널의 도움없이 상호간의 통신이 가능하다.

4. 멀티 스레딩의 장점과 단점은 무엇인가?

- 멀티 스레딩이랑 하나의 프로세스를 다수의 스레드로 만들어 실행하는 것을 의미한다.
- 장점) 하나의 프로세스 내에 다수의 실행 단위들이 존재하여 작업의 수행에 필요한 자원들을 공유하기 때문에 자원의 생성과 관리가 중복되는 것을 줄일 수 있다.
- 단점) 교착상태를 발생시킬 수 있으며, 동기화에 주의해야 한다.

5. 멀티 프로세스 대신 멀티 스레드를 사용하는 이유는 무엇인가?

- 멀티 프로세스를 사용하면 프로세스 간의 context switching시 CPU 레지스터 뿐 아니라 ram, cpu 사이의 캐시 메모리에 대한 데이터까지 모두 초기화 되어 오버헤드가 크나, 스레드는 프로세스 내의 메모리를 공유하기 때문에 스레드간 데이터를 주고받는 것이 간단해지기 때문이다.
- 또한,프로세스간 통신(IPC)보다 스레드 간의 통신 비용이 적기 때문에 작업들 간의 통신 부담이 줄어들며, 전환 속도 또한 빠르다(context switching시 stack 영역만 처리하기 때문에).

<br>

> 시스템 호출에 대해서 설명하시오

<b> 시스템 호출(System Call)</b>: 운영체제의 서비스를 이용하기 위해 응용 프로그램이 운영체제 커널에게 요청하는 인터페이스입니다. 주로 파일 입출력, 프로세스 생성과 종료, 메모리 할당, 네트워크 통신 등의 기능을 호출할 수 있습니다. 시스템 호출은 일반적으로 어셈블리어 수준에서 이루어지며, 사용자 프로그램과 운영체제 간의 경계를 정의합니다.

CPU는 사용자 애플리케이션 (User application)이 시스템을 손상시키는 것을 방지하기 위해 2가지 모드를 제공한다. CPU에 있는 Mode bit로 모드를 구분하여 0은 커널모드(kernel mode), 1은 사용자모드 (user mode)로 나뉘어서 구동된다.

운영체제에서 프로그램이 구동되는데 있어서 파일을 읽어오거나, 파일을 쓰거나, 혹은 화면에 메세지를 출력하는 등 많은 부분이 커널 모드를 사용한다.

🔸 사용자 모드 (User Mode)
사용자 모드에서 사용자 애플리케이션 코드가 실행된다.
사용자가 접근할 수 있는 영역에 제한이 있기 때문에 해당 모드에서는 하드웨어(디스크, I/O 등)에 접근할 수 없다. (이전에 Blocking I/O를 배울 때 직접 하드웨어에 접근하지 못한다고 배웠다! 우후후)
접근을 위해서는 '시스템 콜(System Call)'을 사용해야 한다. 사용자 애플리케이션의 각 스레드들은 고유의 사용자 모드 스택을 갖는다.(?)
🔸 커널 모드 (Kernel Mode)
운영체제(OS)가 CPU를 사용하는 모드이다.
시스템 콜을 통해 커널모드로 전환이 되면 운영체제는 하드웨어를 제어하는 명령어(Privileged Instructions)를 실행한다.
Privileged Instructions는 사용자 모드에서 실행되면 exception이 발생한다.

OS는 다양한 서비스 들을 수행하기 위해 하드웨어를 직접적으로 관리한다. 이와 반면 응용 프로그램은 OS가 제공하는 인터페이스를 통해서만 자원을 사용할 수 있다. OS가 제공하는 이러한 인터페이스를 '시스템 콜 (system call)' 이라고 한다.

시스템콜은 이러한 커널 영역의 기능을 사용자 모드가 사용 가능하게, 즉, 프로세스가 하드웨어에 직접 접근해서 필요한 기능을 할 수 있게 해준다. (즉, 응용프로그램은 시스템 콜을 사용해서 원하는 기능을 수행할 수 있음.)

보통 직접적으로 시스템콜을 사용하기 보다는 API(라이브러리 함수)를 통해 사용하게 된다.

🔸 시스템콜 종류
시스템콜은 크게 6가지로 분류할 수 있다.

1. 프로세스 제어 (Process Control)
   끝내기(exit), 중지 (abort)
   적재(load), 실행(execute)
   프로세스 생성(create process) - fork
   프로세스 속성 획득과 속성 설정
   시간 대기 (wait time)
   사건 대기 (wait event)
   사건을 알림 (signal event)
   메모리 할당 및 해제
2. 파일 조작 (File Manipulation)
   파일 생성 / 삭제 (create, delete)
   열기 / 닫기 / 읽기 / 쓰기 (open, close, read, wirte)
   위치 변경 (reposition)
   파일 속성 획득 및 설정 (get file attribute, set file attribute)
3. 장치 관리 (Device Manipulation)
   하드웨어의 제어와 상태 정보를 얻음 (ioctl)
   장치를 요구(request device), 장치를 방출 (relese device)
   읽기 (read), 쓰기(write), 위치 변경
   장치 속성 획득 및 설정
   장치의 논리적 부착 및 분리
4. 정보 유지 (Information Maintenance)
   getpid(), alarm(), sleep()
   시간과 날짜의 설정과 획득 (time)
   시스템 데이터의 설정과 획득 (date)
   프로세스 파일, 장치 속성의 획득 및 설정
5. 통신 (Communication)
   pipe(), shm_open(), mmap()
   통신 연결의 생성, 제거
   메시지의 송신, 수신
   상태 정보 전달
   원격 장치의 부착 및 분리
6. 보호 (Protection)
   chmod()
   umask()
   chown()

<br>

> 커널의 개념을 설명하시오

<b>커널(Kernel)</b>: 운영체제의 핵심 부분으로, 하드웨어와 소프트웨어 간 통신을 담당합니다. 주요 기능은 프로세스 스케줄링, 메모리 관리, 입출력 관리 등이며, 시스템 호출을 처리하는 역할을 합니다. 커널은 운영체제의 핵심 모듈로서 하드웨어를 직접 제어하고, 응용 프로그램에 필요한 서비스를 제공합니다.

컴퓨터와 전원을 켜면 운영체제는 이와 동시에 수행된다. 소프트웨어가 컴퓨터 시스템에서 수행되기 위해서는 메모리에 그 프로그램이 올라가 있어야 한다. 마찬가지로 운영체제 자체도 소프트웨어로서 전원이 켜짐과 동시에 메모리에 올라가야한다.

하지만 운영체제처럼 규모가 큰 프로그램이 모두 메모리에 올라가면 한정된 메모리 공간이 낭비가 심할 것이다.

따라서 운영체제 중 항상 필요한 부분만을 전원이 켜짐과 동시에 메모리에 올려놓고, 그렇지 않은 부분은 필요할 때 메모리에 올려서 사용하게 된다. 이때 메모리에 상주하는 운영체제의 부분을 kernel(커널)이라고 한다.
